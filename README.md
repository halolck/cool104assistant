# Cool104 アシストツール

## 概要

このツールは、トランプゲーム「Cool104」をプレイする際に、現在の場のカードと手札の状況から、**次にどのカードを出すのが最適かを確率的にアシスト**します。特にスマートフォンでの利用を想定し、ボタン操作で手札や場札を直感的に設定できるウェブアプリケーションとして開発されました。

ゲーム画面のレイアウトを参考に、各マークの出たカード枚数を一覧で表示するなど、Cool104プレイヤーがより戦略的な判断を下せるようサポートします。

## 機能

* **手札・場札のリアルタイム表示:** 現在の手札と場のカードを分かりやすく表示します。
* **各カードのスコア表示:** 手札の各カードについて、場に出した場合の「最適度」をスコアとしてリアルタイムで表示します。
    * スコアは、役の完成度、役のPAYS（得点）、将来の役形成の可能性、そして残りのカードの状況（相手を困らせる可能性）を考慮して計算されます。
* **初期手札の自由な設定:** ゲーム開始時に、手札を自由に設定してゲームをスタートできます（枚数も任意）。
* **手札へのカード追加:** プレイ中に、指定したカードを1枚ずつ手札に加えることができます。
* **場札の変更・クリア:** 場のカードを任意に設定したり、クリアしたりできます。
* **出たカード一覧表示:** 実際のCool104ゲーム画面のように、各マーク・各数字のカードが何枚出たかを一覧で表示します。これにより、残りのカードを推測しやすくなります。
* **ログコンソール:** 各操作の結果やエラーメッセージを画面下部のログコンソールに表示。表示/非表示の切り替えも可能です。
* **ゲームリセット:**
    * **「ランダムな手札で開始」:** ランダムな4枚の手札と場札で新しいゲームを開始します（テスト用）。
    * **「ゲームリセット (クリア)」:** 手札も場札も完全にクリアな状態で新しいゲームを開始します。
    * **「現在の手札と場札でゲーム開始」:** 手動で設定した手札と場札でゲームを開始します。
* **モバイルフレンドリー:** スマートフォンなどの小さい画面でも操作しやすいよう、レスポンシブデザインに対応しています。

## 使い方

1.  **ウェブサイトにアクセスします。** (このリポジトリのGitHub Pages URL)
    [Cool104 アシストツールを開く](https://halolck.github.io/cool104assistant/)
2.  **ゲーム開始時:**
    * デフォルトでは、初期手札5枚（場札なし）でゲームが開始されます。ログに「手札から最初の1枚を出してください」と表示されます。
    * 手札のカードをクリックすると、そのカードが場に出ます。この時、手札は自動的に5枚に補充されます。
3.  **手札や場札の操作:**
    * **「カード設定」** セクションのドロップダウンメニューからマークと数字を選びます。
    * 選んだカードを**「手札に加える」**ボタンで手札に追加したり、**「場札を更新」**ボタンで場のカードに設定したりできます。
    * **「手札をクリア」**ボタンで手札を空に、**「場札クリア」**ボタンで場を空にできます。
    * **「現在の手札と場札でゲーム開始」**ボタンを押すと、現在の画面上の手札と場札でゲームをリセットして開始します。
4.  **カードを出す:**
    * あなたの手札に表示されているカードをクリックすると、場に出すことができます。出せるカードには青い枠線が表示されます。
    * 場に出すと、自動的に手札が補充されます（通常時）。
5.  **アシスト機能:**
    * **「アシスト」**ボタンをクリックすると、現在の状況での「最適解」のカードがログコンソールに表示されます。
    * 手札の各カードの下に、リアルタイムで計算されたスコア（最適度）が表示されるので、アシストボタンを押さなくても参考になります。
6.  **ログの確認:**
    * 画面下部の**「ログ」**コンソールのヘッダーをクリックすると、メッセージの表示/非表示を切り替えられます。
    * 操作ログ、エラーメッセージ、アシスト結果などがここに表示されます。
7.  **ゲームのリセット:**
    * **「ゲームリセット (クリア)」**：手札も場札も完全にクリアな状態でゲームをリセットし、初期手札5枚と場札なしの状態で開始します。
    * **「ランダムな手札で開始」**：ランダムな4枚の手札と場札で新しいゲームを開始します（テスト用）。

## 開発環境・技術スタック

* HTML5
* CSS3
* JavaScript (ES6+)

---
### Thanks　Gemini
コードをGeminiできれいにしてもらいました。すごいね
